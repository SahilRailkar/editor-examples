{"version":3,"file":"tiptap-extension-hard-break.umd.js","sources":["../src/hard-break.ts"],"sourcesContent":["import { Command, Node, mergeAttributes } from '@tiptap/core'\nimport { exitCode } from 'prosemirror-commands'\n\nexport interface HardBreakOptions {\n  HTMLAttributes: Record<string, any>,\n}\n\ndeclare module '@tiptap/core' {\n  interface Commands {\n    hardBreak: {\n      /**\n       * Add a hard break\n       */\n      setHardBreak: () => Command,\n    }\n  }\n}\n\nexport const HardBreak = Node.create<HardBreakOptions>({\n  name: 'hardBreak',\n\n  defaultOptions: {\n    HTMLAttributes: {},\n  },\n\n  inline: true,\n\n  group: 'inline',\n\n  selectable: false,\n\n  parseHTML() {\n    return [\n      { tag: 'br' },\n    ]\n  },\n\n  renderHTML({ HTMLAttributes }) {\n    return ['br', mergeAttributes(this.options.HTMLAttributes, HTMLAttributes)]\n  },\n\n  addCommands() {\n    return {\n      setHardBreak: () => ({ commands, state, dispatch }) => {\n        return commands.first([\n          () => exitCode(state, dispatch),\n          () => {\n            if (dispatch) {\n              state.tr.replaceSelectionWith(this.type.create()).scrollIntoView()\n            }\n\n            return true\n          },\n        ])\n      },\n    }\n  },\n\n  addKeyboardShortcuts() {\n    return {\n      'Mod-Enter': () => this.editor.commands.setHardBreak(),\n      'Shift-Enter': () => this.editor.commands.setHardBreak(),\n    }\n  },\n})\n"],"names":["Node","mergeAttributes","exitCode"],"mappings":";;;;;;QAkBa,SAAS,GAAGA,SAAI,CAAC,MAAM,CAAmB;MACrD,IAAI,EAAE,WAAW;MAEjB,cAAc,EAAE;UACd,cAAc,EAAE,EAAE;OACnB;MAED,MAAM,EAAE,IAAI;MAEZ,KAAK,EAAE,QAAQ;MAEf,UAAU,EAAE,KAAK;MAEjB,SAAS;UACP,OAAO;cACL,EAAE,GAAG,EAAE,IAAI,EAAE;WACd,CAAA;OACF;MAED,UAAU,CAAC,EAAE,cAAc,EAAE;UAC3B,OAAO,CAAC,IAAI,EAAEC,oBAAe,CAAC,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,cAAc,CAAC,CAAC,CAAA;OAC5E;MAED,WAAW;UACT,OAAO;cACL,YAAY,EAAE,MAAM,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE;kBAChD,OAAO,QAAQ,CAAC,KAAK,CAAC;sBACpB,MAAMC,4BAAQ,CAAC,KAAK,EAAE,QAAQ,CAAC;sBAC/B;0BACE,IAAI,QAAQ,EAAE;8BACZ,KAAK,CAAC,EAAE,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,cAAc,EAAE,CAAA;2BACnE;0BAED,OAAO,IAAI,CAAA;uBACZ;mBACF,CAAC,CAAA;eACH;WACF,CAAA;OACF;MAED,oBAAoB;UAClB,OAAO;cACL,WAAW,EAAE,MAAM,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,YAAY,EAAE;cACtD,aAAa,EAAE,MAAM,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,YAAY,EAAE;WACzD,CAAA;OACF;GACF;;;;;;;;;;;"}